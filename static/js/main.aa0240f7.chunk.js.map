{"version":3,"sources":["components/Screen.js","components/Button.js","state/actions/playActions.js","state/actions/toolsActions.js","state/state.js","state/reducers/playReducer.js","state/reducers/toolsReducer.js","state/reducers/patternReducer.js","components/ControlsHeader.js","components/Card.js","components/PatternImage.js","state/actions/patternActions.js","components/PatternsView.js","components/Controls.js","App.js","game/gameOfLife.js","index.js"],"names":["Screen","className","id","width","height","Button","children","rest","type","payload","allReducers","combineReducers","play","state","action","tool","pattern","page","item","controls","createStore","game","scale","position","x","y","mouse","down","i","j","clean","ControlsHeader","PlayPauseButton","HandTools","onClick","clear","size","props","useSelector","dispatch","useDispatch","playActions","toolsActions","Card","PatternImage","canvas","useRef","useEffect","ctx","current","getContext","beginPath","fillStyle","fillRect","closePath","drawPattern","console","log","wCell","Math","min","max","dy","dx","raw","ref","PatternsView","split","map","letter","index","key","patternActions","changePage","patterns","changeItem","title","Controls","App","store","addPoint","handleKeyboard","event","code","handleClick","getState","i0","j0","di","floor","dj","handleMouse","calcPositionOnGrid","layerX","target","layerY","movementX","movementY","gridToContextX","gridToContextY","drawLiveCells","grid","cellX","cellY","drawQuad","MAX_GRID_HEIGHT","MAX_GRID_WIDTH","drawQuadShadow","drawPatternShadow","color","initGrid","push","countAdjacentCells","count","ReactDOM","render","StrictMode","document","getElementById","screen","cellGrid","auxGrid","s","addEventListener","setInterval","aux","clearGrid","copyGrid","cells","updateGrid","update","clearScreen","renderCells","initGame"],"mappings":"268HAGe,SAASA,IAEtB,OACE,4BAAQC,UAAU,SAASC,GAAG,SAASC,MAAO,IAAKC,OAAQ,M,iBCHhD,SAASC,EAAT,GAAmD,IAAjCJ,EAAgC,EAAhCA,UAAWK,EAAqB,EAArBA,SAAaC,EAAQ,wCAE/D,OACE,uCAAKN,UAAW,UAAYA,GAAgBM,GACxCD,G,kBCNO,EACP,CAAEE,KAAM,QADD,EAEN,CAAEA,KAAM,SCFF,EACR,SAACC,GAAD,MAAc,CACjBD,KAAM,MACNC,Y,OCCJ,IAAMC,EAAcC,YAAgB,CAClCC,KCLa,WAA6C,IAAxBC,EAAuB,wDAARC,EAAQ,uCACzD,OAAOA,EAAON,MACZ,IAAK,OACH,OAAO,EACT,IAAK,QACH,OAAO,EACT,QACE,OAAOK,IDDXE,KENa,WAAkD,IAA5BF,EAA2B,uDAAnB,UAAWC,EAAQ,uCAE9D,OAAOA,EAAON,MACZ,IAAK,MACH,OAAOM,EAAOL,QAChB,QACE,OAAOI,IFCXG,QGNa,WAA8D,IAAtCH,EAAqC,uDAA7B,CAAEI,KAAK,EAAGC,MAAM,GAAKJ,EAAQ,uCAE1E,OAAOA,EAAON,MACZ,IAAK,WAEH,OADAK,EAAMI,KAAOH,EAAOL,QACbI,EACT,IAAK,WAEH,OADAA,EAAMK,KAAOJ,EAAOL,QACbI,EACT,QACE,OAAOA,MHDAM,EAAWC,YAAYV,GAEvBW,EAAO,CAClBC,MAAO,EACPC,SAAU,CACRC,EAAG,EACHC,EAAG,GAELC,MAAO,CACLC,MAAM,EACNJ,SAAU,CACRK,GAAI,EACJC,GAAI,IAGRC,OAAO,G,MIVM,SAASC,IAEtB,OACE,yBAAK9B,UAAU,kBACb,yBAAKA,UAAU,aACb,kBAAC+B,EAAD,MACA,kBAACC,EAAD,MACA,kBAAC,EAAD,CAAQC,QAAS,kBAAMb,EAAKc,OAAQ,IAClC,kBAAC,IAAD,CAAmBC,KAAM,QAOnC,SAASJ,EAAgBK,GAEvB,IAAMzB,EAAO0B,aAAY,SAAAzB,GAAK,OAAIA,EAAMD,QAClC2B,EAAWC,cAOjB,OACE,kBAAC,EAAD,eAAQN,QANS,WACRK,EAAN3B,EAAe6B,EACJA,KAImBJ,GAC7BzB,EACA,kBAAC,IAAD,CAAiBwB,KAAM,KACvB,kBAAC,IAAD,CAAgBA,KAAM,MAM9B,SAASH,EAAUI,GAEjB,IAAMtB,EAAOuB,aAAY,SAAAzB,GAAK,OAAIA,EAAME,QAClCwB,EAAWC,cAEjB,OACE,oCACE,kBAAC,EAAD,CACEN,QAAS,kBAAMK,EAASG,EAAiB,WACzCzC,UAAoB,UAATc,EAAmB,WAAa,IAE3C,kBAAC,IAAD,CAASqB,KAAM,MAEjB,kBAAC,EAAD,CACEF,QAAS,kBAAMK,EAASG,EAAiB,aACzCzC,UAAoB,YAATc,EAAqB,WAAa,IAE7C,kBAAC,IAAD,CAAcqB,KAAM,MAEtB,kBAAC,EAAD,CACEF,QAAS,kBAAMK,EAASG,EAAiB,UACzCzC,UAAoB,SAATc,EAAkB,WAAa,IAE1C,kBAAC,IAAD,CAAcqB,KAAM,O,MCvEb,SAASO,EAAT,GAAiD,IAAjCrC,EAAgC,EAAhCA,SAAUL,EAAsB,EAAtBA,UAAcM,EAAQ,wCAC7D,OACE,uCAAKN,UAAW,QAAUA,GAAeM,GACrCD,GCHO,SAASsC,EAAT,GAAmD,IAA3BzC,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,OAAQY,EAAW,EAAXA,QAE9C6B,EAASC,iBAAO,MAEtBC,qBAAU,WACR,IAAMC,EAAMH,EAAOI,QAAQC,WAAW,MACtCF,EAAIG,YACJH,EAAII,UAAY,QAChBJ,EAAIK,SAAS,EAAG,EAAGL,EAAIH,OAAO1C,MAAO6C,EAAIH,OAAOzC,QAChD4C,EAAIM,YACJC,EAAYP,GACZQ,QAAQC,IAAI,QAGd,IAAMF,EAAc,SAAAP,GAClB,IAAMU,EAAQC,KAAKC,IAAIzD,EAAOC,GAAUuD,KAAKE,IAAI7C,EAAQb,MAAOa,EAAQZ,QAClE0D,EAAK1D,EAAS,EAAIsD,EAAQ1C,EAAQZ,OAAS,EAC3C2D,EAAK5D,EAAQ,EAAIuD,EAAQ1C,EAAQb,MAAQ,EAE/C6C,EAAIG,YACJH,EAAII,UAAY,OAChB,IAAI,IAAIxB,EAAI,EAAGA,EAAIZ,EAAQb,MAAOyB,IAChC,IAAI,IAAIC,EAAI,EAAGA,EAAIb,EAAQZ,OAAQyB,IACS,MAAvCb,EAAQgD,IAAIpC,EAAIC,EAAIb,EAAQb,QAC7B6C,EAAIK,SAASU,EAAKnC,EAAI8B,EAAOI,EAAKjC,EAAI6B,EAAe,GAARA,EAAqB,GAARA,GAGhEV,EAAIM,aAGN,OACE,4BAAQW,IAAKpB,EAAQ1C,MAAOA,EAAOC,OAAQA,ICjChC,MAEJ,SAAAa,GAAI,MAAK,CAChBT,KAAM,WACNC,QAASQ,IAJE,EAOJ,SAAAC,GAAI,MAAK,CAChBV,KAAM,WACNC,QAASS,I,aCDE,SAASgD,IAEtB,IAAMjD,EAAOqB,aAAY,SAAAzB,GAAK,OAAIA,EAAMG,QAAQC,QAC1CC,EAAOoB,aAAY,SAAAzB,GAAK,OAAIA,EAAMG,QAAQE,QAC1CqB,EAAWC,cAWjB,OACE,oCACE,yBAAKvC,UAAU,sBAEX,8BAA8BkE,MAAM,IAAIC,KAAI,SAACC,EAAQC,GAAT,OAC1C,kBAAC,EAAD,CACEC,IAAKD,EACLrE,UAAWgB,IAASqD,EAAQ,WAAa,GACzCpC,QAAS,kBAjBF,SAACoC,GAClB/B,EAASiC,EAAuBF,IAChC/B,EAASiC,GAAwB,IAeRC,CAAWH,KAEzBD,OAKT,yBAAKpE,UAAU,gBAEXyE,EAASzD,GAAMmD,KAAI,SAACpD,EAASsD,GAAV,OACjB,kBAAC,EAAD,CACEC,IAAKD,EACLpC,QAAS,kBAxBF,SAACoC,GAClB/B,EAASiC,EAAuBF,IAuBPK,CAAWL,IAC1BrE,UAAYiB,IAASoD,EAAQ,WAAa,IAE1C,uBAAGrE,UAAU,SAAUe,EAAQ4D,OAC/B,kBAAChC,EAAD,CAAczC,MAAO,GAAIC,OAAQ,GAAIY,QAASA,U,MC3C7C,SAAS6D,IAEtB,OACE,yBAAK5E,UAAU,YAChB,kBAAC,EAAD,MACG,kBAAC,EAAD,O,MCQS6E,MAXf,WACE,OACE,yBAAK7E,UAAU,OACb,kBAAC,IAAD,CAAU8E,MAAQ5D,GAChB,kBAAC,EAAD,MACA,kBAAC,EAAD,S,QCHJ6D,EAAW,KAsDf,SAASC,EAAeC,GACtB,OAAOA,EAAMC,MACX,IAAK,YACH9D,EAAKC,OAAS,EACXD,EAAKC,MAAQ,KAAID,EAAKC,MAAQ,IACjC,MACF,IAAK,iBACHD,EAAKC,OAAS,EACXD,EAAKC,MAAQ,IAAGD,EAAKC,MAAQ,IAKtC,SAAS8D,EAAYF,GAInB,GAHgC,UAA7B/D,EAASkE,WAAWtE,MACrBiE,EAAS3D,EAAKK,MAAMH,SAASK,EAAGP,EAAKK,MAAMH,SAASM,GAEtB,YAA7BV,EAASkE,WAAWtE,MACpBI,EAASkE,WAAWrE,QAAQE,MAAQ,EASrC,IATyC,IAAD,EAEnBC,EAASkE,WAAWrE,QAAlCC,EAFiC,EAEjCA,KAAMC,EAF2B,EAE3BA,KACPF,EAAU0D,EAASzD,GAAMC,GACzBoE,EAAKjE,EAAKK,MAAMH,SAASK,EACzB2D,EAAKlE,EAAKK,MAAMH,SAASM,EACzB2D,EAAK7B,KAAK8B,MAAMzE,EAAQb,MAAQ,GAChCuF,EAAK/B,KAAK8B,MAAMzE,EAAQZ,OAAS,GAE/BwB,EAAI,EAAGA,EAAIZ,EAAQb,MAAOyB,IAChC,IAAI,IAAIC,EAAI,EAAGA,EAAIb,EAAQZ,OAAQyB,IACS,MAAvCb,EAAQgD,IAAIpC,EAAIC,EAAIb,EAAQb,QAC7B6E,EAASM,EAAK1D,EAAI4D,EAAID,EAAK1D,EAAI6D,GAMzC,SAASC,EAAYT,GACnB,OAAOA,EAAM1E,MACX,IAAK,YACHa,EAAKK,MAAMC,MAAO,EAClB,MACF,IAAK,UACHN,EAAKK,MAAMC,MAAO,EAClB,MACF,IAAK,YAAL,MAiBJ,SAA4BH,EAAGC,GAC7B,IAAIG,EAAI+B,KAAK8B,OAAOjE,EAAIH,EAAKC,MAAQD,EAAKE,SAASC,GAzHvC,GA0HRK,EAAI8B,KAAK8B,OAAOhE,EAAIJ,EAAKC,MAAQD,EAAKE,SAASE,GA1HvC,GA2HZ,MAAO,CAACG,EAAGC,GAnB0C+D,CAC/CV,EAAMW,OAASX,EAAMY,OAAO3F,MAAM,EAAG+E,EAAMa,OAASb,EAAMY,OAAO1F,OAAO,GAF5E,mBACGiB,EAAKK,MAAMH,SAASK,EADvB,KAC0BP,EAAKK,MAAMH,SAASM,EAD9C,KAIKR,EAAKK,MAAMC,MAAqC,UAA7BR,EAASkE,WAAWtE,MACxCiE,EAAS3D,EAAKK,MAAMH,SAASK,EAAGP,EAAKK,MAAMH,SAASM,GACnDR,EAAKK,MAAMC,MAAqC,SAA7BR,EAASkE,WAAWtE,OAiB5BgD,EAhBDmB,EAAMc,UAAY3E,EAAKC,MAgBlBwC,EAhByBoB,EAAMe,UAAY5E,EAAKC,MAiBtED,EAAKE,SAASC,GAAKuC,EACnB1C,EAAKE,SAASE,GAAKqC,GAFrB,IAAoBC,EAAID,EAiBxB,SAASoC,EAAetE,EAAGoB,GACzB,OAhJY,EAgJJpB,EAAYP,EAAKE,SAASC,GAAKH,EAAKC,MAAQ0B,EAAIH,OAAO1C,MAAM,EAGvE,SAASgG,EAAetE,EAAGmB,GACzB,OApJY,EAoJJnB,EAAYR,EAAKE,SAASE,GAAKJ,EAAKC,MAAQ0B,EAAIH,OAAOzC,OAAO,EAiBxE,SAASgG,EAAcC,EAAMrD,GAC3B,IAAI,IAAIpB,EAAI,EAAGA,EAnKO,IAmKcA,IAClC,IAAI,IAAIC,EAAI,EAAGA,EArKI,IAqKgBA,IAAK,CAEtC,IAAIyE,EAAQJ,EAAetE,EAAGoB,GAC1BuD,EAAQJ,EAAetE,EAAGmB,GAE3BqD,EAAKzE,GAAGC,IACT2E,EAASF,EAAOC,EAAOlF,EAAKC,MAAO0B,GAE5B,IAANpB,GAAiB6E,KAAN7E,GAAiC,IAANC,GAAiB6E,KAAN7E,GAClD2E,EAASF,EAAOC,EAAOlF,EAAKC,MAAO0B,EAAK,UAKhD,SAAS2D,EAAe3D,GACtB,IAAM1B,EAAQD,EAAKC,MAGnBkF,EAFYN,EAAe7E,EAAKK,MAAMH,SAASK,EAAGoB,GACtCmD,EAAe9E,EAAKK,MAAMH,SAASM,EAAGmB,GAC3B1B,EAAO0B,EAAK,SAGrC,SAAS4D,EAAkB5D,GAAM,IAAD,EACT7B,EAASkE,WAAWrE,QAAlCC,EADuB,EACvBA,KAAMC,EADiB,EACjBA,KACb,GAAGA,GAAQ,EAKT,IAJA,IAAMF,EAAU0D,EAASzD,GAAMC,GACzBsE,EAAK7B,KAAK8B,MAAMzE,EAAQb,MAAQ,GAChCuF,EAAK/B,KAAK8B,MAAMzE,EAAQZ,OAAS,GAE/BwB,EAAI,EAAGA,EAAIZ,EAAQb,MAAOyB,IAChC,IAAI,IAAIC,EAAI,EAAGA,EAAIb,EAAQZ,OAAQyB,IAAK,CACtC,GAA0C,MAAvCb,EAAQgD,IAAIpC,EAAIC,EAAIb,EAAQb,OAG7BqG,EAFYN,EAAe7E,EAAKK,MAAMH,SAASK,EAAIA,EAAI4D,EAAIxC,GAC/CmD,EAAe9E,EAAKK,MAAMH,SAASM,EAAIA,EAAI6D,EAAI1C,GACpC3B,EAAKC,MAAO0B,EAAK,UAOlD,SAASwD,EAAShF,EAAGC,EAAGH,EAAO0B,GAAuB,IAAlB6D,EAAiB,uDAAT,QAC1C7D,EAAIG,YACJH,EAAII,UAAYyD,EAChB7D,EAAIK,SACF7B,EAnNU,EAmNNF,EAAgB,IACpBG,EApNU,EAoNNH,EAAgB,IApNV,EAqNVA,EAAgB,GArNN,EAsNVA,EAAgB,IAClB0B,EAAIM,YAQN,SAASwD,EAAST,GAChB,IAAI,IAAIzE,EAAI,EAAGA,EA7NO,IA6NcA,IAAK,CACvCyE,EAAKU,KAAK,IACV,IAAI,IAAIlF,EAAI,EAAGA,EAhOI,IAgOgBA,IACjCwE,EAAKzE,GAAGmF,MAAK,IAqBnB,SAASC,EAAmBX,EAAMzE,EAAGC,GACnC,IAAIoF,EAAQ,EASZ,OARAA,GAASZ,EAAKzE,EAAE,GAAGC,EAAE,GACrBoF,GAASZ,EAAKzE,EAAE,GAAGC,GACnBoF,GAASZ,EAAKzE,EAAE,GAAGC,EAAE,GACrBoF,GAASZ,EAAKzE,GAAGC,EAAE,GACnBoF,GAASZ,EAAKzE,EAAE,GAAGC,EAAE,GACrBoF,GAASZ,EAAKzE,EAAE,GAAGC,GACnBoF,GAASZ,EAAKzE,EAAE,GAAGC,EAAE,GACrBoF,GAASZ,EAAKzE,GAAGC,EAAE,GChQrBqF,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDEX,WACb,IAAMC,EAASF,SAASC,eAAe,UACjCtE,EAAMuE,EAAOrE,WAAW,MAExBsE,EAAW,GACXC,EAAU,GAEhBzC,EAAW,SAACpD,EAAGC,GAAiB,IAAd6F,IAAa,yDAC1B9F,EAAI,GAAKA,EAZQ,KAajBC,EAAI,IACL2F,EAAS5F,GAAGC,GAAK6F,IAGrBZ,EAASU,GACTV,EAASW,GAETpG,EAAKE,SAASC,GAAI,IAClBH,EAAKE,SAASE,GAAI,IAElB4F,SAASM,iBAAiB,WAAY1C,GACtCsC,EAAOI,iBAAiB,YAAahC,GACrC4B,EAAOI,iBAAiB,UAAWhC,GACnC4B,EAAOI,iBAAiB,YAAahC,GACrC4B,EAAOI,iBAAiB,QAASvC,GAEjCwC,aAAY,kBASd,SAAgBvB,EAAMwB,GAEjBxG,EAAKc,QACNd,EAAKc,OAAQ,EA4LjB,SAAmBkE,GACjB,IAAI,IAAIzE,EAAI,EAAGA,EAtOO,IAsOcA,IAClC,IAAI,IAAIC,EAAI,EAAGA,EAxOI,IAwOgBA,IACjCwE,EAAKzE,GAAGC,IAAK,EA9LfiG,CAAUzB,IAGTlF,EAASkE,WAAWzE,MAqNzB,SAAoByF,EAAMwB,IArB1B,SAAkBxB,EAAMwB,GACtB,IAAI,IAAIjG,EAAI,EAAGA,EA9OO,IA8OcA,IAClC,IAAI,IAAIC,EAAI,EAAGA,EAhPI,IAgPgBA,IACjCgG,EAAIjG,GAAGC,GAAKwE,EAAKzE,GAAGC,GAmBxBkG,CAAS1B,EAAMwB,GAEf,IAAI,IAAIjG,EAAI,EAAGA,EAAI6E,GAAmB7E,IACpC,IAAI,IAAIC,EAAI,EAAGA,EAAI6E,GAAkB7E,IAAK,CACxC,IAAImG,EAAQhB,EAAmBa,EAAKjG,EAAGC,GAC1B,IAAVmG,IAAa3B,EAAKzE,GAAGC,IAAK,IAC1BmG,EAAQ,GAAKA,EAAQ,KAAG3B,EAAKzE,GAAGC,IAAK,IA3N1CoG,CAAW5B,EAAMwB,GAjBDK,CAAOV,EAAUC,KAAU,KAC7CG,aAAY,kBAGd,SAAgBvB,EAAMrD,IAoGtB,SAAqBA,GACnBA,EAAIG,YACJH,EAAII,UAAY,QAChBJ,EAAIK,SAAS,EAAG,EAAGL,EAAIH,OAAO1C,MAAO6C,EAAIH,OAAOzC,QAChD4C,EAAIM,aAvGJ6E,CAAYnF,GAkHd,SAAqB3B,EAAMF,EAAUkF,EAAMrD,GAGzCoD,EAAcC,EAAMrD,GAGY,UAA7B7B,EAASkE,WAAWtE,MACrB4F,EAAe3D,GAGe,YAA7B7B,EAASkE,WAAWtE,MACrB6F,EAAkB5D,GA5HpBoF,CAAY/G,EAAMF,EAAUkF,EAAMrD,GALhBmE,CAAOK,EAAUxE,KAAM,IAhC/B,ICOZqF,K","file":"static/js/main.aa0240f7.chunk.js","sourcesContent":["import React from 'react';\nimport './styles/Screen.css';\n\nexport default function Screen() {\n  \n  return (\n    <canvas className=\"Screen\" id=\"Screen\" width={600} height={600}>\n    </canvas>\n  );\n}\n","import React from 'react';\nimport './styles/Button.css';\n\nexport default function Button({ className, children, ...rest }) {\n  \n  return (\n    <div className={\"Button \" + className } {...rest}>\n      { children }\n    </div>\n  )\n}\n","\nexport default {\n  play: { type: 'PLAY' }, \n  pause: { type: 'PAUSE' }\n}\n","\nexport default {\n  set: (payload) => ({\n    type: 'SET', \n    payload\n  })\n}\n","import { createStore, combineReducers } from 'redux';\nimport playReducer from './reducers/playReducer';\nimport toolsReducer from './reducers/toolsReducer';\nimport patternReducer from './reducers/patternReducer';\n\nconst allReducers = combineReducers({\n  play: playReducer, \n  tool: toolsReducer, \n  pattern: patternReducer\n})\n\nexport const controls = createStore(allReducers);\n\nexport const game = {\n  scale: 2, \n  position: {\n    x: 0, \n    y: 0\n  }, \n  mouse: {\n    down: false, \n    position: {\n      i: -1, \n      j: -1\n    }\n  }, \n  clean: false\n};\n","\nexport default function playReducer(state = false, action) {\n  switch(action.type) {\n    case 'PLAY':\n      return true;\n    case 'PAUSE':\n      return false;\n    default:\n      return state;\n  }\n}\n","\nexport default function toolsReducer(state = 'PATTERN', action) {\n\n  switch(action.type) {\n    case 'SET': \n      return action.payload;\n    default:\n      return state;\n  }\n}\n","\n\nexport default function patternReducer(state = { page:0, item:-1 }, action) {\n  \n  switch(action.type) {\n    case 'SET_PAGE':\n      state.page = action.payload;\n      return state;\n    case 'SET_ITEM':\n      state.item = action.payload;\n      return state;\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport Button from './Button.js';\nimport {\n  BsBrush, \n  BsPuzzleFill, \n  BsFillPlayFill, \n  BsFillPauseFill, \n  BsFillXCircleFill, \n  BsArrowsMove, \n} from 'react-icons/bs';\nimport { useDispatch, useSelector } from 'react-redux';\nimport playActions from '../state/actions/playActions.js';\nimport toolsActions from '../state/actions/toolsActions.js';\nimport { game } from '../state/state';\nimport './styles/ControlsHeader.css';\n\nexport default function ControlsHeader() {\n\n  return (\n    <div className=\"ControlsHeader\">\n      <div className=\"ButtonSet\">\n        <PlayPauseButton />\n        <HandTools />\n        <Button onClick={() => game.clear = true}>\n          <BsFillXCircleFill size={20}/>\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nfunction PlayPauseButton(props) {\n  \n  const play = useSelector(state => state.play);\n  const dispatch = useDispatch();\n\n  const togglePlay = () => {\n    if(play) dispatch(playActions.pause);\n    else dispatch(playActions.play);\n  }\n\n  return (\n    <Button onClick={togglePlay} {...props}>\n      { play ?\n        <BsFillPauseFill size={20}/> :\n        <BsFillPlayFill size={20}/>\n      }\n    </Button>\n  )\n}\n\nfunction HandTools(props) {\n\n  const tool = useSelector(state => state.tool);\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <Button \n        onClick={() => dispatch(toolsActions.set('BRUSH'))}\n        className={tool === 'BRUSH' ? 'selected' : ''}\n      >\n        <BsBrush size={20}/>\n      </Button>\n      <Button \n        onClick={() => dispatch(toolsActions.set('PATTERN'))}\n        className={tool === 'PATTERN' ? 'selected' : ''}\n      >\n        <BsPuzzleFill size={20}/>\n      </Button>\n      <Button \n        onClick={() => dispatch(toolsActions.set('MOVE'))}\n        className={tool === 'MOVE' ? 'selected' : ''}\n      >\n        <BsArrowsMove size={20}/>\n      </Button>\n    </>\n  )\n}\n\n","import React from 'react';\nimport './styles/Card.css';\n\nexport default function Card({ children, className, ...rest }) {\n  return (\n    <div className={\"Card \" + className} {...rest}>\n      { children }\n    </div>\n  )\n}\n","import React, { useRef, useEffect } from 'react';\n\n\nexport default function PatternImage({ width, height, pattern }) {\n\n  const canvas = useRef(null);\n\n  useEffect(() => {\n    const ctx = canvas.current.getContext('2d');\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.closePath();\n    drawPattern(ctx);\n    console.log('.');\n  })\n\n  const drawPattern = ctx => {\n    const wCell = Math.min(width, height) / Math.max(pattern.width, pattern.height);\n    const dy = height / 2 - wCell * pattern.height / 2;\n    const dx = width / 2 - wCell * pattern.width / 2;\n\n    ctx.beginPath();\n    ctx.fillStyle = '#333';\n    for(let i = 0; i < pattern.width; i++) {\n      for(let j = 0; j < pattern.height; j++) {\n        if(pattern.raw[i + j * pattern.width] === 'O')\n          ctx.fillRect(dx + i * wCell, dy + j * wCell, wCell * 0.9, wCell * 0.8);\n      }\n    }\n    ctx.closePath();\n  }\n\n  return (\n    <canvas ref={canvas} width={width} height={height} />\n  )\n}\n","\nexport default {\n  \n  setPage: page => ({\n    type: 'SET_PAGE', \n    payload: page\n  }), \n  \n  setItem: item => ({\n    type: 'SET_ITEM', \n    payload: item\n  })\n}\n","import React, { useState } from 'react';\nimport Card from './Card';\nimport Button from './Button';\nimport PatternImage from './PatternImage';\nimport { useSelector, useDispatch } from 'react-redux';\nimport patternActions from '../state/actions/patternActions';\nimport patterns from '../game/patterns.json';\nimport './styles/PatternsView.css';\n\nexport default function PatternsView() {\n\n  const page = useSelector(state => state.pattern.page);\n  const item = useSelector(state => state.pattern.item);\n  const dispatch = useDispatch();\n\n  const changePage = (index) => {\n    dispatch(patternActions.setPage(index));\n    dispatch(patternActions.setItem(-1));\n  }\n\n  const changeItem = (index) => {\n    dispatch(patternActions.setItem(index));\n  }\n\n  return (\n    <>\n      <div className=\"PatternsPagination\">\n        {\n          '*abcdefghijklmnopqrstuvwxyz'.split('').map((letter, index)=> (\n            <Button \n              key={index}\n              className={page === index ? 'selected' : ''}\n              onClick={() => changePage(index)}\n            >\n              {letter}\n            </Button>\n          ))\n        }\n      </div>\n      <div className=\"PatternsView\">\n        {\n          patterns[page].map((pattern, index) => (\n            <Card \n              key={index} \n              onClick={() => changeItem(index)}\n              className={ item === index ? 'selected' : '' }\n            >\n              <p className=\"title\">{ pattern.title }</p>\n              <PatternImage width={60} height={60} pattern={pattern} />\n            </Card>\n          ))\n        }\n      </div>\n    </>\n  )\n}\n","import React from 'react';\nimport ControlsHeader from './ControlsHeader.js';\nimport PatternsView from './PatternsView.js';\nimport './styles/Controls.css';\n\nexport default function Controls() {\n\n  return (\n    <div className=\"Controls\">\n\t\t\t<ControlsHeader />\n      <PatternsView />\n    </div>\n  )\n}\n","import React from 'react';\nimport Screen from './components/Screen';\nimport Controls from './components/Controls';\nimport { controls } from './state/state';\nimport { Provider } from 'react-redux';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Provider store={ controls }>\n        <Screen />\n        <Controls />\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","\nimport patterns from './patterns.json';\nimport { controls, game } from '../state/state';\n\nconst WCELL = 5;\nconst FPS = 60;\nconst MAX_GRID_WIDTH = 100;\nconst MAX_GRID_HEIGHT = 100;\n\nlet addPoint = null;\n\nexport default function initGame() {\n  const screen = document.getElementById('Screen');\n  const ctx = screen.getContext('2d');\n\n  const cellGrid = [];\n  const auxGrid = [];\n\n  addPoint = (i, j, s = true) => {\n    if(i > 0 && i < MAX_GRID_HEIGHT && \n       j > 0 && MAX_GRID_WIDTH)\n      cellGrid[i][j] = s;\n  }\n\n  initGrid(cellGrid);\n  initGrid(auxGrid);\n\n  game.position.x = -WCELL * MAX_GRID_WIDTH / 2;\n  game.position.y = -WCELL * MAX_GRID_HEIGHT / 2;\n\n  document.addEventListener('keypress', handleKeyboard);\n  screen.addEventListener('mousedown', handleMouse);\n  screen.addEventListener('mouseup', handleMouse);\n  screen.addEventListener('mousemove', handleMouse);\n  screen.addEventListener('click', handleClick);\n  \n  setInterval(() => update(cellGrid, auxGrid), 100);\n  setInterval(() => render(cellGrid, ctx), 1000 / FPS);\n}\n\nfunction render(grid, ctx) {\n  clearScreen(ctx);\n  renderCells(game, controls, grid, ctx);\n}\n\nfunction update(grid, aux) {\n\n  if(game.clear) {\n    game.clear = false;\n    clearGrid(grid);\n  }\n\n  if(controls.getState().play)\n    updateGrid(grid, aux);\n}\n\n/*\n *  Input functions\n *\n *\n *\n */\n\nfunction handleKeyboard(event) {\n  switch(event.code) {\n    case 'NumpadAdd': \n      game.scale += 1;\n      if(game.scale > 10) game.scale = 10;\n      break;\n    case 'NumpadSubtract':\n      game.scale -= 1;\n      if(game.scale < 1) game.scale = 1;\n      break;\n  }\n}\n\nfunction handleClick(event) {\n  if(controls.getState().tool === 'BRUSH')\n    addPoint(game.mouse.position.i, game.mouse.position.j);\n\n  if(controls.getState().tool === 'PATTERN' && \n     controls.getState().pattern.item >= 0) {\n\n    const {page, item} = controls.getState().pattern;\n    const pattern = patterns[page][item];\n    const i0 = game.mouse.position.i;\n    const j0 = game.mouse.position.j;\n    const di = Math.floor(pattern.width / 2);\n    const dj = Math.floor(pattern.height / 2);\n\n    for(let i = 0; i < pattern.width; i++) {\n      for(let j = 0; j < pattern.height; j++) {\n        if(pattern.raw[i + j * pattern.width] === 'O')\n          addPoint(i0 + i - di, j0 + j - dj)\n      }\n    }\n  }\n}\n\nfunction handleMouse(event) {\n  switch(event.type) {\n    case 'mousedown':\n      game.mouse.down = true;\n      break;\n    case 'mouseup':\n      game.mouse.down = false;\n      break;\n    case 'mousemove':\n      [game.mouse.position.i, game.mouse.position.j] = calcPositionOnGrid(\n        event.layerX - event.target.width/2, event.layerY - event.target.height/2\n      )\n      if(game.mouse.down && controls.getState().tool === 'BRUSH')\n        addPoint(game.mouse.position.i, game.mouse.position.j);\n      if(game.mouse.down && controls.getState().tool === 'MOVE')\n        moveScreen(event.movementX / game.scale, event.movementY / game.scale);\n      break;\n  }\n}\n\n/*\n *  Game util functions\n *\n */\n\nfunction calcPositionOnGrid(x, y) {\n  let i = Math.floor((x / game.scale - game.position.x) / WCELL);\n  let j = Math.floor((y / game.scale - game.position.y) / WCELL); \n  return [i, j];\n}\n\nfunction moveScreen(dx, dy) {\n  game.position.x += dx;\n  game.position.y += dy;\n}\n\n/*\n *  Render functions\n *\n */\n\nfunction clearScreen(ctx) {\n  ctx.beginPath();\n  ctx.fillStyle = 'white';\n  ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  ctx.closePath();\n}\n\nfunction gridToContextX(i, ctx) { \n  return (i * WCELL + game.position.x) * game.scale + ctx.canvas.width/2;\n}\n\nfunction gridToContextY(j, ctx) {\n  return (j * WCELL + game.position.y) * game.scale + ctx.canvas.height/2;\n}\n\nfunction renderCells(game, controls, grid, ctx) {\n\n  // Draw live cells\n  drawLiveCells(grid, ctx);\n\n  // Draw quad shadow\n  if(controls.getState().tool === 'BRUSH')\n    drawQuadShadow(ctx);\n\n  // Draw pattern shadow\n  if(controls.getState().tool === 'PATTERN')\n    drawPatternShadow(ctx);\n}\n\nfunction drawLiveCells(grid, ctx) {\n  for(let i = 0; i < MAX_GRID_HEIGHT; i++) {\n    for(let j = 0; j < MAX_GRID_WIDTH; j++) {\n\n      let cellX = gridToContextX(i, ctx);\n      let cellY = gridToContextY(j, ctx);\n\n      if(grid[i][j])\n        drawQuad(cellX, cellY, game.scale, ctx);\n\n      if(i === 0 || i === MAX_GRID_HEIGHT-1 || j === 0 || j === MAX_GRID_WIDTH-1)\n        drawQuad(cellX, cellY, game.scale, ctx, '#f333');\n    }\n  }\n}\n\nfunction drawQuadShadow(ctx) {\n  const scale = game.scale;\n  let cellX = gridToContextX(game.mouse.position.i, ctx);\n  let cellY = gridToContextY(game.mouse.position.j, ctx);\n  drawQuad(cellX, cellY, scale, ctx, '#3333');  \n}\n\nfunction drawPatternShadow(ctx) {\n  const {page, item} = controls.getState().pattern;\n  if(item >= 0) {\n    const pattern = patterns[page][item];\n    const di = Math.floor(pattern.width / 2);\n    const dj = Math.floor(pattern.height / 2);\n\n    for(let i = 0; i < pattern.width; i++) {\n      for(let j = 0; j < pattern.height; j++) {\n        if(pattern.raw[i + j * pattern.width] === 'O') {\n          let cellX = gridToContextX(game.mouse.position.i + i - di, ctx);\n          let cellY = gridToContextY(game.mouse.position.j + j - dj, ctx);\n          drawQuad(cellX, cellY, game.scale, ctx, '#3333');\n        }\n      }\n    }  \n  }\n}\n\nfunction drawQuad(x, y, scale, ctx, color = '#333e') {\n  ctx.beginPath();\n  ctx.fillStyle = color;\n  ctx.fillRect(\n    x + scale * WCELL * 0.05, \n    y + scale * WCELL * 0.05, \n    scale * WCELL * 0.9, \n    scale * WCELL * 0.9);\n  ctx.closePath();\n}\n\n/*\n *  Grid functions\n *\n */\n\nfunction initGrid(grid) {\n  for(let i = 0; i < MAX_GRID_HEIGHT; i++) {\n    grid.push([]);\n    for(let j = 0; j < MAX_GRID_WIDTH; j++) {\n      grid[i].push(false);\n    }\n  }\n}\n\nfunction clearGrid(grid) {\n  for(let i = 0; i < MAX_GRID_HEIGHT; i++) {\n    for(let j = 0; j < MAX_GRID_WIDTH; j++) {\n      grid[i][j] = false;\n    }\n  }\n}\n\nfunction copyGrid(grid, aux) {\n  for(let i = 0; i < MAX_GRID_HEIGHT; i++) {\n    for(let j = 0; j < MAX_GRID_WIDTH; j++) {\n      aux[i][j] = grid[i][j];\n    }\n  }\n}\n\nfunction countAdjacentCells(grid, i, j) {\n  let count = 0;\n  count += grid[i-1][j-1];\n  count += grid[i-1][j];\n  count += grid[i-1][j+1];\n  count += grid[i][j+1];\n  count += grid[i+1][j+1];\n  count += grid[i+1][j];\n  count += grid[i+1][j-1];\n  count += grid[i][j-1];\n  return count;\n}\n\nfunction updateGrid(grid, aux) {\n  copyGrid(grid, aux);\n\n  for(let i = 1; i < MAX_GRID_HEIGHT-1; i++) {\n    for(let j = 1; j < MAX_GRID_WIDTH-1; j++) {\n      let cells = countAdjacentCells(aux, i, j);\n      if(cells === 3) grid[i][j] = true;\n      if(cells < 2 || cells > 3) grid[i][j] = false;\n    }\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport initGame from './game/gameOfLife.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\ninitGame();\n"],"sourceRoot":""}