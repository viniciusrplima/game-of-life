{"version":3,"sources":["components/Screen.js","components/Button.js","state/actions/playActions.js","state/actions/toolsActions.js","state/state.js","state/reducers/playReducer.js","state/reducers/toolsReducer.js","state/reducers/patternReducer.js","components/ControlsHeader.js","components/Card.js","components/PatternImage.js","state/actions/patternActions.js","components/PatternsView.js","components/Controls.js","App.js","game/gameOfLife.js","index.js"],"names":["Screen","className","id","width","height","Button","children","rest","type","payload","allReducers","combineReducers","play","state","action","tool","pattern","page","item","controls","createStore","game","scale","position","x","y","mouse","down","i","j","clean","ControlsHeader","PlayPauseButton","HandTools","onClick","clear","size","props","useSelector","dispatch","useDispatch","playActions","toolsActions","Card","PatternImage","canvas","useRef","useEffect","ctx","current","getContext","clearContext","drawPattern","beginPath","fillStyle","fillRect","closePath","wCell","Math","min","max","dy","dx","raw","ref","PatternsView","split","map","letter","index","key","patternActions","changePage","patterns","changeItem","title","Controls","App","store","addPoint","handleKeyboard","event","code","handleClick","getState","i0","j0","di","floor","dj","addPattern","handleMouse","mouseX","layerX","target","mouseY","layerY","screenToGrid","movementX","movementY","onMouseMove","gridToContext","drawLiveCells","grid","cellX","cellY","drawQuad","MAX_GRID_COLUMNS","MAX_GRID_LINES","drawQuadShadow","drawPatternShadow","color","initGrid","push","countAdjacentCells","count","ReactDOM","render","StrictMode","document","getElementById","screen","cellGrid","auxGrid","s","addEventListener","setInterval","aux","clearGrid","copyGrid","cells","updateGrid","update","clearScreen","renderCells","initGame"],"mappings":"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","file":"static/js/main.06730306.chunk.js","sourcesContent":["import React from 'react';\nimport './styles/Screen.css';\n\nexport default function Screen() {\n  \n  return (\n    <canvas className=\"Screen\" id=\"Screen\" width={600} height={600}>\n    </canvas>\n  );\n}\n","import React from 'react';\nimport './styles/Button.css';\n\nexport default function Button({ className, children, ...rest }) {\n  \n  return (\n    <div className={\"Button \" + className } {...rest}>\n      { children }\n    </div>\n  )\n}\n","\nexport default {\n  play: { type: 'PLAY' }, \n  pause: { type: 'PAUSE' }\n}\n","\nexport default {\n  set: (payload) => ({\n    type: 'SET', \n    payload\n  })\n}\n","import { createStore, combineReducers } from 'redux';\nimport playReducer from './reducers/playReducer';\nimport toolsReducer from './reducers/toolsReducer';\nimport patternReducer from './reducers/patternReducer';\n\nconst allReducers = combineReducers({\n  play: playReducer, \n  tool: toolsReducer, \n  pattern: patternReducer\n})\n\nexport const controls = createStore(allReducers);\n\nexport const game = {\n  scale: 1, \n  position: {\n    x: 0, \n    y: 0\n  }, \n  mouse: {\n    down: false, \n    position: {\n      i: -1, \n      j: -1\n    }\n  }, \n  clean: false\n};\n","\nexport default function playReducer(state = false, action) {\n  switch(action.type) {\n    case 'PLAY':\n      return true;\n    case 'PAUSE':\n      return false;\n    default:\n      return state;\n  }\n}\n","\nexport default function toolsReducer(state = 'PATTERN', action) {\n\n  switch(action.type) {\n    case 'SET': \n      return action.payload;\n    default:\n      return state;\n  }\n}\n","\n\nexport default function patternReducer(state = { page:0, item:-1 }, action) {\n  \n  switch(action.type) {\n    case 'SET_PAGE':\n      state.page = action.payload;\n      return state;\n    case 'SET_ITEM':\n      state.item = action.payload;\n      return state;\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport Button from './Button.js';\nimport {\n  BsBrush, \n  BsPuzzleFill, \n  BsFillPlayFill, \n  BsFillPauseFill, \n  BsFillXCircleFill, \n  BsArrowsMove, \n} from 'react-icons/bs';\nimport { useDispatch, useSelector } from 'react-redux';\nimport playActions from '../state/actions/playActions.js';\nimport toolsActions from '../state/actions/toolsActions.js';\nimport { game } from '../state/state';\nimport './styles/ControlsHeader.css';\n\nexport default function ControlsHeader() {\n\n  return (\n    <div className=\"ControlsHeader\">\n      <div className=\"ButtonSet\">\n        <PlayPauseButton />\n        <HandTools />\n        <Button onClick={() => game.clear = true}>\n          <BsFillXCircleFill size={20}/>\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nfunction PlayPauseButton(props) {\n  \n  const play = useSelector(state => state.play);\n  const dispatch = useDispatch();\n\n  const togglePlay = () => {\n    if(play) dispatch(playActions.pause);\n    else dispatch(playActions.play);\n  }\n\n  return (\n    <Button onClick={togglePlay} {...props}>\n      { play ?\n        <BsFillPauseFill size={20}/> :\n        <BsFillPlayFill size={20}/>\n      }\n    </Button>\n  )\n}\n\nfunction HandTools(props) {\n\n  const tool = useSelector(state => state.tool);\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <Button \n        onClick={() => dispatch(toolsActions.set('BRUSH'))}\n        className={tool === 'BRUSH' ? 'selected' : ''}\n      >\n        <BsBrush size={20}/>\n      </Button>\n      <Button \n        onClick={() => dispatch(toolsActions.set('PATTERN'))}\n        className={tool === 'PATTERN' ? 'selected' : ''}\n      >\n        <BsPuzzleFill size={20}/>\n      </Button>\n      <Button \n        onClick={() => dispatch(toolsActions.set('MOVE'))}\n        className={tool === 'MOVE' ? 'selected' : ''}\n      >\n        <BsArrowsMove size={20}/>\n      </Button>\n    </>\n  )\n}\n\n","import React from 'react';\nimport './styles/Card.css';\n\nexport default function Card({ children, className, ...rest }) {\n  return (\n    <div className={\"Card \" + className} {...rest}>\n      { children }\n    </div>\n  )\n}\n","import React, { useRef, useEffect } from 'react';\n\n\nexport default function PatternImage({ width, height, pattern }) {\n\n  const canvas = useRef(null);\n\n  useEffect(() => {\n    const ctx = canvas.current.getContext('2d');\n\n    clearContext(ctx);\n    drawPattern(ctx);\n  })\n\n  const clearContext = ctx => {\n    ctx.beginPath();\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.closePath();\n  }\n\n  const drawPattern = ctx => {\n    const wCell = Math.min(width, height) / Math.max(pattern.width, pattern.height);\n    const dy = height / 2 - wCell * pattern.height / 2;\n    const dx = width / 2 - wCell * pattern.width / 2;\n\n    ctx.beginPath();\n    ctx.fillStyle = '#333';\n    for(let i = 0; i < pattern.width; i++) {\n      for(let j = 0; j < pattern.height; j++) {\n        if(pattern.raw[i + j * pattern.width] === 'O')\n          ctx.fillRect(dx + i * wCell, dy + j * wCell, wCell * 0.9, wCell * 0.8);\n      }\n    }\n    ctx.closePath();\n  }\n\n  return (\n    <canvas ref={canvas} width={width} height={height} />\n  )\n}\n","\nexport default {\n  \n  setPage: page => ({\n    type: 'SET_PAGE', \n    payload: page\n  }), \n  \n  setItem: item => ({\n    type: 'SET_ITEM', \n    payload: item\n  })\n}\n","import React, { useState } from 'react';\nimport Card from './Card';\nimport Button from './Button';\nimport PatternImage from './PatternImage';\nimport { useSelector, useDispatch } from 'react-redux';\nimport patternActions from '../state/actions/patternActions';\nimport patterns from '../game/patterns.json';\nimport './styles/PatternsView.css';\n\nexport default function PatternsView() {\n\n  const page = useSelector(state => state.pattern.page);\n  const item = useSelector(state => state.pattern.item);\n  const dispatch = useDispatch();\n\n  const changePage = (index) => {\n    dispatch(patternActions.setPage(index));\n    dispatch(patternActions.setItem(-1));\n  }\n\n  const changeItem = (index) => {\n    dispatch(patternActions.setItem(index));\n  }\n\n  return (\n    <>\n      <div className=\"PatternsPagination\">\n        {\n          '*abcdefghijklmnopqrstuvwxyz'.split('').map((letter, index)=> (\n            <Button \n              key={index}\n              className={page === index ? 'selected' : ''}\n              onClick={() => changePage(index)}\n            >\n              {letter}\n            </Button>\n          ))\n        }\n      </div>\n      <div className=\"PatternsView\">\n        {\n          patterns[page].map((pattern, index) => (\n            <Card \n              key={index} \n              onClick={() => changeItem(index)}\n              className={ item === index ? 'selected' : '' }\n            >\n              <p className=\"title\">{ pattern.title }</p>\n              <PatternImage width={60} height={60} pattern={pattern} />\n            </Card>\n          ))\n        }\n      </div>\n    </>\n  )\n}\n","import React from 'react';\nimport ControlsHeader from './ControlsHeader.js';\nimport PatternsView from './PatternsView.js';\nimport './styles/Controls.css';\n\nexport default function Controls() {\n\n  return (\n    <div className=\"Controls\">\n\t\t\t<ControlsHeader />\n      <PatternsView />\n    </div>\n  )\n}\n","import React from 'react';\nimport Screen from './components/Screen';\nimport Controls from './components/Controls';\nimport { controls } from './state/state';\nimport { Provider } from 'react-redux';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Provider store={ controls }>\n        <Screen />\n        <Controls />\n      </Provider>\n    </div>\n  );\n}\n\nexport default App;\n","\nimport patterns from './patterns.json';\nimport { controls, game } from '../state/state';\n\nconst WCELL = 5;\nconst FPS = 60;\nconst MAX_GRID_LINES = 150;\nconst MAX_GRID_COLUMNS = 150;\n\n// Function to add point to grid\nlet addPoint = null;\n\nexport default function initGame() {\n  const screen = document.getElementById('Screen');\n  const ctx = screen.getContext('2d');\n\n  const cellGrid = [];\n  const auxGrid = [];\n\n  addPoint = (i, j, s = true) => {\n    if(i > 0 && i < MAX_GRID_COLUMNS && \n       j > 0 && MAX_GRID_LINES)\n      cellGrid[i][j] = s;\n  }\n\n  initGrid(cellGrid);\n  initGrid(auxGrid);\n\n  // Initial position\n  game.position.x = -WCELL * MAX_GRID_COLUMNS / 2;\n  game.position.y = -WCELL * MAX_GRID_LINES / 2;\n\n  document.addEventListener('keypress', handleKeyboard);\n  screen.addEventListener('mousedown', handleMouse);\n  screen.addEventListener('mouseup', handleMouse);\n  screen.addEventListener('mousemove', handleMouse);\n  screen.addEventListener('click', handleClick);\n  \n  setInterval(() => update(cellGrid, auxGrid), 100);\n  setInterval(() => render(cellGrid, ctx), 1000 / FPS);\n}\n\nfunction render(grid, ctx) {\n  clearScreen(ctx);\n  renderCells(game, controls, grid, ctx);\n}\n\nfunction update(grid, aux) {\n\n  if(game.clear) {\n    game.clear = false;\n    clearGrid(grid);\n  }\n\n  if(controls.getState().play)\n    updateGrid(grid, aux);\n}\n\n/*\n *  Input functions\n *\n */\n\nfunction handleKeyboard(event) {\n  switch(event.code) {\n    case 'NumpadAdd': \n      game.scale += 1;\n      if(game.scale > 10) game.scale = 10;\n      break;\n    case 'NumpadSubtract':\n      game.scale -= 1;\n      if(game.scale < 1) game.scale = 1;\n      break;\n  }\n}\n\nfunction handleClick(event) {\n  if(controls.getState().tool === 'BRUSH')\n    addPoint(game.mouse.position.i, game.mouse.position.j);\n\n  if(controls.getState().tool === 'PATTERN' && \n     controls.getState().pattern.item >= 0) {\n      let {page, item} = controls.getState().pattern;\n      addPattern(patterns[page][item], \n        game.mouse.position.i, \n        game.mouse.position.j);\n  }\n}\n\nfunction handleMouse(event) {\n  switch(event.type) {\n    case 'mousedown':\n      game.mouse.down = true;\n      break;\n    case 'mouseup':\n      game.mouse.down = false;\n      break;\n    case 'mousemove':\n      onMouseMove(event);\n      break;\n  }\n}\n\nfunction onMouseMove(event) {\n  let mouseX = event.layerX - event.target.width/2;\n  let mouseY = event.layerY - event.target.height/2;\n  [game.mouse.position.i, \n   game.mouse.position.j] = screenToGrid(mouseX, mouseY);\n\n  // Draw lines with points\n  if(game.mouse.down && controls.getState().tool === 'BRUSH')\n    addPoint(game.mouse.position.i, game.mouse.position.j);\n\n  // Move screen if mouse down\n  if(game.mouse.down && controls.getState().tool === 'MOVE')\n    moveScreen(event.movementX / game.scale, event.movementY / game.scale);\n}\n\n/*\n *  Game util functions\n *\n */\n\n// Convert grid indices to context coords\nfunction gridToContext(i, j, ctx) { \n  let x = (i * WCELL + game.position.x) * game.scale + ctx.canvas.width/2;\n  let y = (j * WCELL + game.position.y) * game.scale + ctx.canvas.height/2;\n  return [x, y]\n}\n\n// Convert screen coords to grid indices\nfunction screenToGrid(x, y) {\n  let i = Math.floor((x / game.scale - game.position.x) / WCELL);\n  let j = Math.floor((y / game.scale - game.position.y) / WCELL); \n  return [i, j];\n}\n\nfunction moveScreen(dx, dy) {\n  game.position.x += dx;\n  game.position.y += dy;\n}\n\nfunction addPattern(pattern, i0, j0) {\n  // Calc middle point of pattern\n  const di = Math.floor(pattern.width / 2);\n  const dj = Math.floor(pattern.height / 2);\n\n  // Interprete pattern on pattern.raw and insert it on grid\n  for(let i = 0; i < pattern.width; i++) {\n    for(let j = 0; j < pattern.height; j++) {\n      if(pattern.raw[i + j * pattern.width] === 'O')\n        addPoint(i0 + i - di, j0 + j - dj)\n    }\n  }\n}\n\n/*\n *  Render functions\n *\n */\n\nfunction clearScreen(ctx) {\n  ctx.beginPath();\n  ctx.fillStyle = 'white';\n  ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  ctx.closePath();\n}\n\nfunction renderCells(game, controls, grid, ctx) {\n\n  // Draw live cells\n  drawLiveCells(grid, ctx);\n\n  // Draw quad shadow\n  if(controls.getState().tool === 'BRUSH')\n    drawQuadShadow(ctx);\n\n  // Draw pattern shadow\n  if(controls.getState().tool === 'PATTERN')\n    drawPatternShadow(ctx);\n}\n\nfunction drawLiveCells(grid, ctx) {\n  for(let i = 0; i < MAX_GRID_COLUMNS; i++) {\n    for(let j = 0; j < MAX_GRID_LINES; j++) {\n\n      let [cellX, cellY] = gridToContext(i, j, ctx);\n\n      if(grid[i][j])\n        drawQuad(cellX, cellY, game.scale, ctx);\n\n      if(i === 0 || i === MAX_GRID_COLUMNS-1 || j === 0 || j === MAX_GRID_LINES-1)\n        drawQuad(cellX, cellY, game.scale, ctx, '#f333');\n    }\n  }\n}\n\nfunction drawQuadShadow(ctx) {\n  const scale = game.scale;\n  let i = game.mouse.position.i;\n  let j = game.mouse.position.j;\n  let [cellX, cellY] = gridToContext(i, j, ctx);\n  drawQuad(cellX, cellY, scale, ctx, '#3333');  \n}\n\nfunction drawPatternShadow(ctx) {\n  const {page, item} = controls.getState().pattern;\n  if(item >= 0) {\n    const pattern = patterns[page][item];\n    const di = Math.floor(pattern.width / 2);\n    const dj = Math.floor(pattern.height / 2);\n\n    for(let i = 0; i < pattern.width; i++) {\n      for(let j = 0; j < pattern.height; j++) {\n        if(pattern.raw[i + j * pattern.width] === 'O') {\n          let gridI = game.mouse.position.i + i - di;\n          let gridJ = game.mouse.position.j + j - dj;\n          let [cellX, cellY] = gridToContext(gridI, gridJ, ctx);\n          drawQuad(cellX, cellY, game.scale, ctx, '#3333');\n        }\n      }\n    }  \n  }\n}\n\nfunction drawQuad(x, y, scale, ctx, color = '#333e') {\n  ctx.beginPath();\n  ctx.fillStyle = color;\n  ctx.fillRect(\n    x + scale * WCELL * 0.05, \n    y + scale * WCELL * 0.05, \n    scale * WCELL * 0.9, \n    scale * WCELL * 0.9);\n  ctx.closePath();\n}\n\n/*\n *  Grid functions\n *\n */\n\nfunction initGrid(grid) {\n  for(let i = 0; i < MAX_GRID_COLUMNS; i++) {\n    grid.push([]);\n    for(let j = 0; j < MAX_GRID_LINES; j++) {\n      grid[i].push(false);\n    }\n  }\n}\n\nfunction clearGrid(grid) {\n  for(let i = 0; i < MAX_GRID_COLUMNS; i++) {\n    for(let j = 0; j < MAX_GRID_LINES; j++) {\n      grid[i][j] = false;\n    }\n  }\n}\n\nfunction copyGrid(grid, aux) {\n  for(let i = 0; i < MAX_GRID_COLUMNS; i++) {\n    for(let j = 0; j < MAX_GRID_LINES; j++) {\n      aux[i][j] = grid[i][j];\n    }\n  }\n}\n\nfunction countAdjacentCells(grid, i, j) {\n  let count = 0;\n  count += grid[i-1][j-1];\n  count += grid[i-1][j];\n  count += grid[i-1][j+1];\n  count += grid[i][j+1];\n  count += grid[i+1][j+1];\n  count += grid[i+1][j];\n  count += grid[i+1][j-1];\n  count += grid[i][j-1];\n  return count;\n}\n\nfunction updateGrid(grid, aux) {\n  copyGrid(grid, aux);\n\n  for(let i = 1; i < MAX_GRID_COLUMNS-1; i++) {\n    for(let j = 1; j < MAX_GRID_LINES-1; j++) {\n      let cells = countAdjacentCells(aux, i, j);\n      if(cells === 3) grid[i][j] = true;\n      if(cells < 2 || cells > 3) grid[i][j] = false;\n    }\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport initGame from './game/gameOfLife.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\ninitGame();\n"],"sourceRoot":""}